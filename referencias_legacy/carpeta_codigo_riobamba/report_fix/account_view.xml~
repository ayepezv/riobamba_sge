<?xml version="1.0"?>
<openerp>
    <data>

      <!-- -->
      
      <record id="view_regla_cierre_search" model="ir.ui.view">
	<field name="name">Reglas Cierre</field>
	<field name="model">regla.cierre</field>
	<field name="type">search</field>
	<field name="arch" type="xml">
	  <search string="Reglas Cierre">
	    <group>
              <field name="name"/>
	    </group>
	  </search>
	</field>
      </record>

    <record model="ir.ui.view" id="retention.view_regla_cierre_tree">
      <field name="name">Regla Cierre</field>
      <field name="model">regla.cierre</field>
      <field name="type">tree</field>
      <field name="arch" type="xml">
	<tree>
	  <field name="name"/>
	  <field name="fiscal_id"/>
	  <field name="origen"/>
	  <field name="destino_account"/>
	</tree>
      </field>
    </record>
    
      <record model="ir.ui.view" id="view_regla_cierre_inherit_form1">
	<field name="name">Regla Cierre</field>
	<field name="model">regla.cierre</field>
	<field name="type">form</field>
	<field name="inherit_id" ref="retention.view_regla_cierre_form1"/>
	<field name="arch" type="xml">
	  <xpath expr="/form/group/notebook/page/field[@name='origen_ids']" position="replace">
	    <field name="origen_ids" nolabel="1">
	      <form>
		<field name="origen_id" required="1" domain="[('type','!=','view')]"/>
		<field name="destino_id" required="1" domain="[('type','!=','view')]"/>
		<notebook colspan="4">
		  <page string="Detalle Beneficiario">
		    <field name="partner_ids" nolabel="1">
		      <tree editable="top">
			<field name="name" required="1"/>
			<field name="debit" required="1" sum="Total"/>
			<field name="credit" required="1" sum="Total"/>
		      </tree>
		    </field>
		  </page>
		</notebook>
	      </form>
	      <tree>
		<field name="origen_id" required="1" domain="[('type','!=','view')]"/>
		<field name="destino_id" required="1" domain="[('type','!=','view')]"/>
	      </tree>
	    </field>
	  </xpath>
	</field>
      </record>

      <!--  -->
      <record id="wizard_detalle_apertura_form" model="ir.ui.view">
	<field name="name">Detalle Apertura Esigef</field>
	<field name="model">detalle.apertura</field>
	<field name="type">form</field>
	<field name="arch" type="xml">
          <form string="Reportes">
	    <group col="4" colspan="4" fill="0">
	      <field name="fiscalyear_id" required="1"/>
	      <field name="cierre_id" required="1" domain="[('fiscal_id','=',fiscalyear_id)]"/>
	      <field name="filename_balance" invisible="1"/>
	      <field name="data_balance" filename="filename_balance" colspan="4"/>
	    </group>
            <group colspan="4">
              <button icon="gtk-execute" name="genera_detalle_apertura_esigef" string="Generar" type="object"/>
            </group>                    
          </form>
	</field>
      </record>
      <record id="action_detalle_apertura" model="ir.actions.act_window">
	<field name="name">Detalle Apertura Esigef</field>
	<field name="type">ir.actions.act_window</field>
	<field name="res_model">detalle.apertura</field>
	<field name="view_type">form</field>
	<field name="view_mode">form</field>
	<field name="target">new</field>
      </record>
      
    <menuitem
	icon="STOCK_INDENT"
	action="action_detalle_apertura"
	id="menu_detalle_aperura"
	parent="gt_gob_report.menu_gob_report"
	groups="account.group_account_user,account.group_account_manager"
	sequence="8"/>


      <!--  -->
      <record id="view_reciproca_form" model="ir.ui.view">
	<field name="name">Detalle Transacciones Reciprocas Esigef</field>
	<field name="model">transaccion.reciproca</field>
	<field name="type">form</field>
	<field name="arch" type="xml">
          <form string="Reportes">
	    <group col="4" colspan="4" fill="0">
	      <field name="fiscalyear_id" required="1"/>
	      <field name="mes_id" required="1" domain="[('fiscalyear_id','=',fiscalyear_id)]"/>
	      <field name="filename_balance" invisible="1"/>
	      <field name="data_balance" filename="filename_balance" colspan="4"/>
	    </group>
            <group colspan="4">
	      <button icon="terp-sale" name="calcularReciprocaEsigef" string="Calcular" type="object"/>
              <button icon="gtk-execute" name="generaReciprocaEsigef" string="Generar Archivo" type="object"/>
            </group>                    
	    <notebook>
	      <page string="Detalle Transacciones Reciprocas(Devengado)">
		<field name="line_ids" nolabel="1">
		  <field name="period_id" widget="selection"/>
		  <field name="move_id" required="1"/>
		  <field name="move_line_id" required="1" domain="[('move_id','=',move_id)]"/>
		  <field name="debe" required="1"/>
		  <field name="haber" required="1"/>
		  <field name="fecha_aprobacion" required="1"/>
		  <field name="fecha_vencimiento" required="1"/>
		</field>
	      </page>
	    </notebook>
          </form>
	</field>
      </record>
      
      <record id="view_transaccion_reciproca_tree" model="ir.ui.view">
	<field name="name">Transaccines Reciprocas</field>
	<field name="model">transaccion.reciproca</field>
	<field name="type">tree</field>
	<field name="arch" type="xml">
	  <tree string="Transacciones Reciprocas">
	    <field name="fiscalyear_id"/>
	    <field name="mes_id"/>
	  </tree>
	</field>
      </record>      
      
      <record id="view_transaccion_reciproca_filter" model="ir.ui.view">
	<field name="name">Transacciones Reciprocas</field>
	<field name="model">transaccion.reciproca</field>
	<field name="type">search</field>
	<field name="arch" type="xml">
	  <search string="Transacciones Reciprocas">
	    <field name="fiscalyear_id"/>
	    <field name="mes_id"/>
	  </search>
	</field>
      </record>

      <record id="action_transacciones_reciproca" model="ir.actions.act_window">
	<field name="name">Detalle Transacciones Reciprocas Esigef</field>
	<field name="res_model">transaccion.reciproca</field>
	<field name="view_type">form</field>
	<field name="view_mode">tree,form</field>
      </record>
      
    <menuitem
	icon="STOCK_INDENT"
	action="action_transacciones_reciproca"
	id="menu_transaccion_reciproca"
	parent="gt_gob_report.menu_gob_report"
	groups="account.group_account_user,account.group_account_manager"
	sequence="8"/>
      
    </data>
</openerp>
