<?xml version="1.0" encoding="UTF-8" ?>
<openerp>
<data>
  
  <menuitem id="menu_hr_solicitud_doc" parent="gt_document_manager.menu_document_manager" 
			name="Requerimiento personal" sequence="6"/>

  <record id="view_sol_personal_form" model="ir.ui.view">
    <field name="name">view.sol.personal.form</field>
    <field name="model">hr.sol.personal</field>
    <field name="type">form</field>
    <field name="arch" type="xml">
      <form string="Solicitud">
		<group colspan="4" col="6">
		  <field name="sec"/>
		  <field name="date_create" readonly="1"/>
		  <field name="tramite_id" attrs="{'readonly': [('state', 'not in',('Borrador'))]}"/>
		  <field name="solicitant_id"/>
		  <field name="job_id" domain="[('department_id','=',department_id),('expected_employees','>=',1)]" 
			 attrs="{'readonly': [('state', 'not in',('Borrador'))]}"/>
		  <field name="is_partida" attrs="{'invisible': [('state', 'in',('Borrador'))]}"/>
		</group>
		<group colspan="4">
		  <field name="department_id" readonly="1" colspan="4"/>
		</group>
		<notebook colspan="4">
		  <page string="Observaciones">
			<field name="name" nolabel="1" attrs="{'readonly': [('state', 'not in',('Borrador'))]}"/>
		  </page>
		</notebook>
		<group colspan="4" col="5">
		  <field name="state"/>
		  <button name="sol_in_progress" states="Borrador" string="Solicitar" type="object" icon="gtk-go-forward" confirm="Confirma que desea solicitar?"/>
		  <button name="sol_aprobado" states="Solicitado" string="Verificado" type="object" icon="gtk-go-forward" confirm="Confirma que desea aprobar?"/>
		  <button name="%(action_cancel_process_sol)d" states="Borrador,Solicitado" string="Anular Solicitud" type="action" icon="gtk-cancel"/>
		</group>
      </form>
    </field>
  </record>
  
  <record id="view_sol_personal_tree" model="ir.ui.view">
    <field name="name">view.sol.personal.tree</field>
    <field name="model">hr.sol.personal</field>
    <field name="type">tree</field>
    <field name="arch" type="xml">
      <tree string="Solicitud">
        <field name="sec" select="1"/>
        <field name="date_create" select="1"/>
        <field name="solicitant_id" select="1"/>
        <field name="department_id" select="1"/>
        <field name="job_id" select="1"/>
      </tree>
    </field>
  </record>  

  <record model="ir.actions.act_window" id="action_solicitar_personal">
	<field name="name">Solicitar</field>
	<field name="type">ir.actions.act_window</field>
	<field name="res_model">hr.sol.personal</field>
	<field name="view_type">form</field>
	<field name="view_mode">tree,form</field>
  </record>

  <menuitem id="menu_hr_solicitud_doc_sol" parent="menu_hr_solicitud_doc" 
			name="Solicitar" sequence="1" action="action_solicitar_personal"/>
  

</data>
</openerp>
